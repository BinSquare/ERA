# How to Use the Skill Agent CLI

## Overview
The skill agent is now a **persistent CLI interface** that:
- Runs continuously and accepts multiple commands
- Automatically executes Python code generated by the LLM
- Maintains conversation context between requests
- Exits only when you press Ctrl+C or type 'exit'/'quit'

## Starting the Skill Agent

```bash
python skill_agent.py storage/skills
```

Optional parameters:
```bash
# With specific model provider
python skill_agent.py storage/skills anthropic

# With specific model and provider
python skill_agent.py storage/skills anthropic claude-sonnet-4-5-20250929
python skill_agent.py storage/skills openai gpt-4
```

## Usage

Once started, you'll see a prompt like:
```
ðŸ¤– You:
```

Type your requests and press Enter. Examples:

```
ðŸ¤– You: Extract the data from page 10 of storage/Defense.pdf
ðŸ¤– You: What information is on page 5?
ðŸ¤– You: Create a summary of the first 3 pages
```

## Features

### 1. **Automatic Code Execution**
- When the agent generates Python code in markdown code blocks (```python ... ```), it will automatically:
  - Extract the code
  - Execute it in a subprocess
  - Display the output
  - Handle errors gracefully

### 2. **Persistent Session**
- The CLI stays open after each request
- No need to restart for each command
- Conversation history is maintained

### 3. **Easy Exit**
- Press `Ctrl+C` to exit
- Or type: `exit`, `quit`, or `q`

## Example Session

```bash
$ python skill_agent.py storage/skills

======================================================================
ðŸŽ¯ SKILL AGENT - LangChain-Based Skill Executor
======================================================================

ðŸ“‚ Storage path: storage/skills
ðŸ¤– Model provider: anthropic

[Skills loading...]

======================================================================
ðŸŽ¯ PERSISTENT CLI MODE - Using skill: pdf
======================================================================

ðŸ’¡ Tips:
   - Type your requests and press Enter
   - Python code in responses will be automatically executed
   - Press Ctrl+C to exit

======================================================================

ðŸ¤– You: Extract the data from page 10 of storage/Defense.pdf

[Agent generates code and executes it automatically]

ðŸ¤– You: Now extract page 5

[Agent handles the next request]

ðŸ¤– You: exit

ðŸ‘‹ Goodbye!

======================================================================
âœ… Session ended.
======================================================================
```

## Requirements

Make sure you have the required dependencies installed:
```bash
pip install langchain langchain-anthropic langchain-openai python-dotenv pyyaml pdfplumber
```

And set your API key:
```bash
export ANTHROPIC_API_KEY='your-api-key-here'
# or create a .env file with:
# ANTHROPIC_API_KEY=your-api-key-here
```

## Troubleshooting

### "ModuleNotFoundError"
If you see errors about missing modules (like `pdfplumber`), install them:
```bash
pip install pdfplumber
```

### No Output
- Ensure your ANTHROPIC_API_KEY is set correctly
- Check that the skills directory exists and contains SKILL.md files

### Code Execution Timeout
- Code automatically times out after 30 seconds
- For longer operations, you may need to adjust the timeout in the code
